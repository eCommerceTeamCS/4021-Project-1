---
title: "Project 2"
author: "Shayne Cassidy, Sarah Nelson, Sarah Winston Nathan"
date: "12-6-2019"
output:
  pdf_document: default
  html_document: default
---

```{r setup, include=FALSE}
require("knitr")
sourcedir <- "/Users/shaynecassidy/Desktop/4021/RCode"
datadir <- "/Users/shaynecassidy/Desktop/4021-Project-1/AirQualityUCI"
opts_knit$set(root.dir = sourcedir)
library(forecast)
library(mtsdi)
library(MTS)
```

# Load data and impute missing values
```{r, warning=FALSE}
setwd(datadir)
airquality = read.csv('AirQualityUCI.csv')

# replace -200 with NA
airquality[airquality == -200] <- NA

# convert integer type to numeric
intcols = c(4,5,7,8,9,10,11,12)
for(i in 1:length(intcols)){
  airquality[,intcols[i]] <- as.numeric(airquality[,intcols[i]])
}

setwd(sourcedir)

# create new data frame with just CO and NO2
AQdata = airquality[,c(3,10)]

# impute missing air quality data
f <- ~ CO.GT. + NO2.GT.
t <- c(seq(1,dim(AQdata)[1],1))
i <- mnimput(f, AQdata, eps=1e-3, ts=TRUE, method='gam', 
             ga.control=list(formula=paste(names(AQdata)[c(1:3)],'~ns(t,2)')))

# set airquality to imputed data
AQdata <- i$filled.dataset

# aggregate to daily maxima for model building
dailyAQ <- aggregate(AQdata, by=list(as.Date(airquality[,1],"%m/%d/%Y")), FUN=max)
```


## Part 1: Building Univariate Time Series Models
```{r}
AQ.CO <- dailyAQ$CO.GT.
AQ.NO2 <- dailyAQ$NO2.GT.

CO.ts<-ts(AQ.CO)
NO2.ts<-ts(AQ.NO2)

plot(CO.ts)
plot(NO2.ts)

library("car")
Boxplot(CO.ts)
Boxplot(NO2.ts)
```

# Part A: Seasonality 
```{r}
acf(CO.ts)
acf(NO2.ts)

pg.CO <- spec.pgram(CO.ts,spans=9,demean=T,log='no')

```

# Part B: Trends
```{r}

```

# Part C: Auto-Regressive and Moving Average
```{r}

```

# Part D: Assessment of Models
```{r}

```

# Part E: Diagnostics
```{r}

```


## Part 2: Building Multivariate Time Series Models
```{r}

```

# Part A: Seasonality
```{r}

```

# Part B: Trends
```{r}

```

# Part C: Auto-Regressive and Moving Average
```{r}

```

# Part D: Assessment of Models
```{r}

```

# Part E: Diagnostics
```{r}

```


## Part 3: Simulating from Univariate and Multivariate Time Series Models
```{r}

```

# Part A: Ability to reproduce appearance
```{r}

```

# Part B: Ability to reproduce observed trends
```{r}

```

# Part C: Ability to reproduce seasonality
```{r}

```

# Part D: Ability to reproduce observed mean and variance
```{r}

```

# Part E: Ability to reproduce auto-correlation
```{r}

```

# Part F: Ability to reproduce observed cross-correlation
```{r}

```
