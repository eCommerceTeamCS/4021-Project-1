require("knitr")
#traindir <- "C:/Users/swnathan/Documents/4y1s/sys4021/InClassR/Data/TrainData"
#sourcedir <-"C:/Users/swnathan/Documents/4y1s/sys4021/InClassR/RCode"
traindir <- "/Users/shaynecassidy/Desktop/4021/Data/TrainData"
sourcedir <-"/Users/shaynecassidy/Desktop/4021/RCode"
opts_knit$set(root.dir = sourcedir)
opts_chunk$set(warning=FALSE)
require("knitr")
#traindir <- "C:/Users/swnathan/Documents/4y1s/sys4021/InClassR/Data/TrainData"
#sourcedir <-"C:/Users/swnathan/Documents/4y1s/sys4021/InClassR/RCode"
traindir <- "/Users/shaynecassidy/Desktop/4021/Data/TrainData"
sourcedir <-"/Users/shaynecassidy/Desktop/4021/RCode"
opts_knit$set(root.dir = sourcedir)
opts_chunk$set(warning=FALSE)
Load data and combine data from 2001-2018 into totacts.
```{r}
# Source AccidentInput
source("AccidentInput.R")
# Source AccidentInput
setwd("/Users/shaynecassidy/Desktop/4021/RCode")
source("AccidentInput.R")
# list of data frames for each year of accident data
acts <- file.inputl(traindir)
# list of data frames for each year of accident data
acts <- file.inputl(traindir)
# Get a common set the variables
comvar <- intersect(colnames(acts[[1]]), colnames(acts[[8]]))
# the combined data frame
totacts <- combine.data(acts, comvar)
# the combined data frame
totacts <- combine.data(acts, comvar)
totacts$Casualty <- totacts$TOTKLD + totacts$TOTINJ
dmgbox <- boxplot(totacts$ACCDMG)
xdmg <- totacts[totacts$ACCDMG > dmgbox$stats[5],]
# Remove duplicates from xdmg and call new data frame xdmgnd
xdmgnd <- xdmg[!(duplicated(xdmg[, c("INCDTNO", "YEAR", "MONTH", "DAY", "TIMEHR",
"TIMEMIN")])),]
casbox <- boxplot(totacts$Casualty)
cas <- totacts[totacts$Casualty > casbox$stats[5],]
# Remove duplicates from cdmg and call new data frame cdmgnd
casnd <- cas[!(duplicated(cdmg[, c("INCDTNO", "YEAR", "MONTH", "DAY", "TIMEHR",
"TIMEMIN")])),]
# Remove duplicates from cdmg and call new data frame cdmgnd
casnd <- cas[!(duplicated(cas[, c("INCDTNO", "YEAR", "MONTH", "DAY", "TIMEHR",
"TIMEMIN")])),]
